import{b as e,v as r,l,n as t,d as a,i as o,B as s,h as i,S as n,t as c}from"./index-60ffdcbe.js";import{D as d}from"./Divider-65d22fcf.js";import{c as u,a as g,I as p}from"./index.module-8c68dbae.js";import{T as v}from"./Typography-63ca3400.js";import{L as m}from"./index-7f37c568.js";import{C as f}from"./index-8c8ceb60.js";import{T as h}from"./index-08d30a70.js";import{A as x}from"./Add-55ecba14.js";import{C as y}from"./Close-55696d9a.js";import{D as I}from"./Delete-0f6d177d.js";import{E as C}from"./Edit-fea7dbbc.js";import{S as N}from"./Save-87375049.js";import"./formControlState-865d6002.js";import"./isHostComponent-28f2e306.js";import"./index-d49f25e3.js";import"./moment-0b360bb8.js";import"./avatar-0ae0561b.js";import"./index-d93c6e67.js";const b=c('<form class=" flex flex-col"><div class="grid grid-cols-7 gap-2"><div class="bg-primarry-2 p-2"></div><div class="col-span-5 bg-primarry-2 p-2 flex gap-2">'),T=c('<div class="relative w-full flex-1"><div class="absolute overflow-auto w-full h-full">'),j=c('<div class="flex flex-col flex-1">'),O=c('<div class="grid grid-cols-7 gap-2 w-full"><div class="px-2">CATEGORY INFORMATION</div><div class="col-span-6 px-2">IDENTIFIED'),A=c('<form class="grid grid-cols-7 gap-2 w-full col-span-full">'),D=c('<div class="bg-primarry-2 bg-opacity-50 p-2">'),E=c('<div class="col-span-5 bg-primarry-2 bg-opacity-50 p-2 flex gap-2">'),R=c('<div class="grid grid-cols-2 gap-2">'),V=c('<div class="bg-primarry-2 p-2">'),q=c('<div class="col-span-5 bg-primarry-2 p-2 flex gap-2">'),w=()=>{const[c,w]=e([]),k=u({category:g("",{required:!0}),value:g("",{required:!0})}),F=u({category:g("",{required:!0}),value:g("",{required:!0})});let _=r().pathname.split("/"),L=_[_.length-2];const[W,M]=e(!1),S=e=>{e.preventDefault();let{category:r,value:l}=k.value,a={category:r,value:l,edit:!1,keyword:L};t().post("deck-explorer/additional_info",a).then((e=>{M(!0),n.fire({icon:"success",title:"INFO",text:e.data.message,didClose:()=>{k.controls.category.setValue(""),k.controls.value.setValue(""),M(!1)}})}))};return l((()=>{t().get(`/deck-explorer/addtional_info?keyword=${L}`).then((e=>{w(e.data.items)})),W()})),a(m,{title:"ADDITIONAL INFORMATION",get children(){const e=j();return o(e,a(h,{label:"ADDITIONAL INFORMATION"}),null),o(e,a(f,{className:"relative flex-1 flex flex-col",get title(){return O()},get children(){return[(()=>{const e=b(),r=e.firstChild,l=r.firstChild,t=l.nextSibling;return e.addEventListener("submit",S),o(r,a(d,{class:"col-span-full",sx:{borderColor:"#444"}}),l),o(l,a(p,{get value(){return k.controls.category.value},onChange:e=>k.controls.category.setValue(e.target.value),get required(){return k.controls.category.isRequired},placeholder:"INPUT CATEGORY",sx:{color:"white"}})),o(t,a(p,{get value(){return k.controls.value.value},onChange:e=>k.controls.value.setValue(e.target.value),get required(){return k.controls.value.isRequired},placeholder:"INPUT INFORMATION",fullWidth:!0,sx:{color:"white"}})),o(r,a(s,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return a(x,{})},children:"ADD"}),null),o(r,a(d,{class:"col-span-full",sx:{borderColor:"#444"}}),null),e})(),(()=>{const e=T(),r=e.firstChild;return o(r,(()=>c().map((e=>(()=>{const r=A();return r.addEventListener("submit",(r=>((e,r)=>{e.preventDefault();let{category:l,value:a}=F.value,o={category:l,value:a,keyword:L,id:r};t().put("deck-explorer/additional_info",o).then((e=>{M(!0),n.fire({icon:"success",title:"INFO",text:e.data.message,didClose:()=>{k.controls.category.setValue(""),k.controls.value.setValue(""),M(!1)}})}))})(r,e._id))),o(r,a(d,{class:"col-span-full",sx:{borderColor:"#444"}}),null),o(r,(()=>{const r=i((()=>!!e.edit));return()=>r()?[(()=>{const e=D();return o(e,a(p,{get value(){return F.controls.category.value},onChange:e=>F.controls.category.setValue(e.target.value),get required(){return F.controls.category.isRequired},placeholder:"INPUT CATEGORY",sx:{color:"white"}})),e})(),(()=>{const e=E();return o(e,a(p,{get value(){return F.controls.value.value},onChange:e=>F.controls.value.setValue(e.target.value),get required(){return F.controls.value.isRequired},placeholder:"INPUT INFORMATION",fullWidth:!0,sx:{color:"white"}})),e})(),(()=>{const e=R();return o(e,a(s,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return a(N,{})},children:"SAVE"}),null),o(e,a(s,{onClick:()=>{w((e=>e.map((e=>({...e,edit:!1})))))},fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return a(y,{})},children:"CANCEL"}),null),e})()]:[(()=>{const r=V();return o(r,a(v,{get children(){return e.category}})),r})(),(()=>{const r=q();return o(r,a(v,{get children(){return e.value}})),r})(),(()=>{const r=R();return o(r,a(s,{onClick:()=>{w((r=>r.map((r=>(r._id===e._id&&(F.controls.value.setValue(r.value),F.controls.category.setValue(r.category)),{...r,edit:r._id===e._id})))))},fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return a(C,{})},children:"EDIT"}),null),o(r,a(s,{onClick:()=>{t().delete(`/deck-explorer/additional_info?id=${e._id}`).then((e=>{M(!0),n.fire({icon:"success",title:"INFO",text:e.data.message,didClose:()=>{k.controls.category.setValue(""),k.controls.value.setValue(""),M(!1)}})}))},fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return a(I,{})},children:"DELETE"}),null),r})()]})(),null),o(r,a(d,{class:"col-span-full",sx:{borderColor:"#444"}}),null),r})())))),e})()]}}),null),e}})};export{w as default};
