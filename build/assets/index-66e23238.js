import{d as e,m as t,f as r,t as a,r as n,K as i,W as o,R as l,l as s,X as c,k as d,p,q as u,v as g,w as h,Y as f,P as m,b as v,E as x,U as b,D as C,h as k,T as y,M as w,a as S,H as A,u as E,n as M,i as $,B as P,I as D,j as I,s as T,F as N,S as R}from"./index-4512b8e0.js";import{C as j}from"./Chip-6d4bb894.js";import{F as L}from"./FormControl-480a3140.js";import{F as _}from"./FormControlLabel-bff3c72f.js";import"./FormLabel-729b2465.js";import{R as O,a as F}from"./RadioGroup-4d2fa4f1.js";import{C as B}from"./index-faf17f8c.js";import{C as z,T as V}from"./index-87d19503.js";import{C as H}from"./index-46b4baa4.js";import{C as K,A as X}from"./index-84238fb8.js";import{T as Y}from"./Typography-091decc6.js";import{C as U}from"./Close-ccdf9ede.js";import{T as G,M as W}from"./Modal-9b264604.js";import{r as q,g as J,T as Z}from"./Transition-751032e8.js";import{o as Q,d as ee}from"./isHostComponent-aa695ee2.js";import"./formControlState-a50ae71c.js";import"./SwitchBase-c6494c21.js";import"./useControlled-3b7394ed.js";import"./index-cefb7a6f.js";const te=({children:r})=>e(Y,{get color(){return"dark"===t()?"#eee":"#444"},children:r}),re=a('<svg><path d="M0 0h24v24H0z" fill="none"></svg>',!1,!0),ae=a('<svg><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></svg>',!1,!0),ne=r((()=>[re(),ae()]),"Check"),ie=a('<svg><g><g><g><path d="M21,3H3C1.9,3,1,3.9,1,5v8h2V5h18v16c1.1,0,2-0.9,2-2V5C23,3.9,22.1,3,21,3z"></path></g><g><circle cx="9" cy="10" r="4"></circle></g><g><path d="M15.39,16.56C13.71,15.7,11.53,15,9,15c-2.53,0-4.71,0.7-6.39,1.56C1.61,17.07,1,18.1,1,19.22V22h16v-2.78 C17,18.1,16.39,17.07,15.39,16.56z"></svg>',!1,!0),oe=r((()=>ie()),"CoPresent");function le(e,t,r){var a;const n=function(e,t,r){const a=t.getBoundingClientRect(),n=r&&r.getBoundingClientRect(),i=Q(t),o=i.getComputedStyle(t),l=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform");let s=0,c=0;if(l&&"none"!==l&&"string"==typeof l){const e=l.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),c=parseInt(e[5],10)}return"left"===e?n?`translateX(${n.right+s-a.left}px)`:`translateX(${i.innerWidth+s-a.left}px)`:"right"===e?n?`translateX(-${a.right-n.left-s}px)`:`translateX(-${a.left+a.width-s}px)`:"up"===e?n?`translateY(${n.bottom+c-a.top}px)`:`translateY(${i.innerHeight+c-a.top}px)`:n?`translateY(-${a.top-n.top+a.height-c}px)`:`translateY(-${a.top+a.height-c}px)`}(e,t,"function"==typeof(a=r)?a():a);n&&(t.style.webkitTransform=n,t.style.transform=n)}const se=n()({name:"MuiSlide",selfPropNames:["appear","children","container","direction","easing","in","timeout"],propDefaults:({set:e})=>{const t=i();return e({appear:!0,direction:"down",get easing(){return{enter:t.transitions.easing.easeOut,exit:t.transitions.easing.sharp}},get timeout(){return{enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen}}})}}).component((function({props:t,otherProps:r}){const a=i(),n=o((()=>t.children)),p=l(G);let u=[];return s((e=>{if(e&&(u=u.filter((t=>t!==e)),e()),t.in||le(t.direction,n(),t.container),t.in||"down"===t.direction||"right"===t.direction)return;const r=ee((()=>{le(t.direction,n(),t.container)})),a=Q(n());return a.addEventListener("resize",r),()=>{r.clear(),a.removeEventListener("resize",r)}})),c((()=>{for(const e of u)e()})),e(Z,d({get in(){return t.in},get appear(){return t.appear},get timeout(){return t.timeout}},r,{onEnter:()=>{const e=n();le(t.direction,e,t.container),q(e),r.onEnter?.(),p?.onEnter?.()},onEntering:()=>{const e=n(),r=J({timeout:t.timeout,style:{},easing:t.easing},{mode:"enter"});e.style.webkitTransition=a.transitions.create("-webkit-transform",{...r}),e.style.transition=a.transitions.create("transform",{...r}),e.style.webkitTransform="none",e.style.transform="none"},onExit:()=>{const e=n(),i=J({timeout:t.timeout,style:{},easing:t.easing},{mode:"exit"});e.style.webkitTransition=a.transitions.create("-webkit-transform",i),e.style.transition=a.transitions.create("transform",i),le(t.direction,e,t.container),r.onExit?.()},onExited:()=>{const e=n();e.style.webkitTransition="",e.style.transition="",r.onExited?.(),p?.onExited?.()},children:e=>{const r=n();return"exited"!==e||t.in?r.style.removeProperty("visibility"):r.style.visibility="hidden",r}}))}));p("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const ce=n()({name:"MuiDrawer",selfPropNames:["ModalProps","PaperProps","anchor","children","classes","elevation","onClose","open","transitionDuration","variant"],utilityClass:function(e){return u("MuiDrawer",e)},slotClasses:e=>({root:["root"],docked:[("permanent"===e.variant||"persistent"===e.variant)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${g(e.anchor)}`,"temporary"!==e.variant&&`paperAnchorDocked${g(e.anchor)}`]}),propDefaults:({set:e})=>{const t=i();return e({component:"div",anchor:"left",elevation:16,hideBackdrop:!1,ModalProps:{},open:!1,PaperProps:{},get transitionDuration(){return{enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen}},variant:"temporary"})}}),de=h(W,{name:"MuiDrawer",slot:"Root"})((({theme:e})=>({zIndex:e.zIndex.drawer}))),pe=h("div",{skipProps:f,name:"MuiDrawer",slot:"Docked"})({flex:"0 0 auto"}),ue=h(m,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`paperAnchor${g(r.anchor)}`],"temporary"!==r.variant&&t[`paperAnchorDocked${g(r.anchor)}`]]}})((({theme:e,ownerState:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,..."left"===t.anchor&&{left:0},..."top"===t.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},..."right"===t.anchor&&{right:0},..."bottom"===t.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},..."left"===t.anchor&&"temporary"!==t.variant&&{borderRight:`1px solid ${e.palette.divider}`},..."top"===t.anchor&&"temporary"!==t.variant&&{borderBottom:`1px solid ${e.palette.divider}`},..."right"===t.anchor&&"temporary"!==t.variant&&{borderLeft:`1px solid ${e.palette.divider}`},..."bottom"===t.anchor&&"temporary"!==t.variant&&{borderTop:`1px solid ${e.palette.divider}`}}))),ge={left:"right",right:"left",top:"down",bottom:"up"};const he=ce.component((function({allProps:t,props:r,otherProps:a,classes:n}){const[l,s]=v(!1),c=w(a),p=i(),u=o((()=>r.children));function g(){return e(ue,d({get elevation(){return"temporary"===r.variant?r.elevation:0},square:!0},(()=>r.PaperProps),{get class(){return C(n.paper,r.PaperProps.class)},ownerState:t,get children(){return u()}}))}function h(){const t=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?ge[t]:t}(p,r.anchor);return e(se,d({get in(){return r.open},get direction(){return ge[t]},get timeout(){return r.transitionDuration},get appear(){return l()}},(()=>r.SlideProps??{}),{get children(){return e(g,{})}}))}return x((()=>s(!0))),e(y,{get children(){return[e(b,{get when(){return"permanent"===r.variant},get children(){return e(pe,d(a,{get class(){return C(n.root,n.docked,a.class)},ownerState:t,ref:c,get children(){return e(g,{})}}))}}),e(b,{get when(){return"persistent"===r.variant},get children(){return e(pe,d(a,{get class(){return C(n.root,n.docked,a.class)},ownerState:t,ref:c,get children(){return e(h,{})}}))}}),k((()=>e(b,{get when(){return"temporary"===r.variant},get children(){return e(de,d({get BackdropProps(){return{...a.BackdropProps??{},...r.ModalProps.BackdropProps??{},transitionDuration:r.transitionDuration}},get class(){return C(n.root,n.modal,a.class)},get open(){return r.open},ownerState:t,get onClose(){return r.onClose},get hideBackdrop(){return a.hideBackdrop},ref:c},a??{},(()=>r.ModalProps??{}),{transition:!0,get children(){return e(h,{})}}))}})))]}})})),fe=a('<div class="absolute top-0 h-full w-full left-0 px-4 overflow-auto grid grid-cols-2 py-4 gap-2">'),me=a('<div class="grid flex-1 m-[-18px]"><div class="xl:col-span-6 flex-1 px-4 py-2 flex flex-col">'),ve=a('<div class="py-6 flex flex-col flex-1">'),xe=a('<div class="w-96 h-full bg-primarry-1 text-white p-4 flex flex-col gap-4"><div class="flex justify-between items-center border-b border-primarry-2"><h4>EXISTING MARKED PROFILE</h4></div><div class="flex items-center gap-2 justify-end"></div><div class="flex-1 flex flex-col px-4 relative"><div class="absolute w-full h-full overflow-auto left-0">'),be=a('<div class="flex gap-4"><div class="flex gap-4 items-center"><div></div><div class="space-x-4">'),Ce=a("<div>"),ke=a('<div class="border border-primarry-2 flex justify-between flex-1">'),ye=a('<div class="w-full px-2 py-2 flex gap-2 flex-col "><div class="flex gap-2 items-center justify-between border-b border-primarry-2 py-2"><div class="w-12"><img class="w-full"></div><div><div></div></div></div><div class="flex justify-between text-xs"><div>REMARKS :</div><div>TYPE :'),we=a('<div><div class="border border-primarry-2 px-4 bg-primarry-1 sticky top-[5px] z-50 flex justify-between items-center"><div>'),Se=a("<span>DATA DARI <b>"),Ae=a('<div><div class="flex gap-4 items-start flex-1 relative"><div> <!> </div><div class="flex-1 "><div class="gap-2 flex flex-wrap px-4"></div></div><div class="sticky top-[10px] pr-4"></div></div><div class="w-full flex justify-between items-center absolute bottom-[-5px] left-0"><div></div><div>'),Ee=a('<div class="whitespace-nowrap max-w-xs relative"><div class="text-ellipsis overflow-hidden relative">'),Me=a('<div><img class="w-20">'),$e=a('<div><div class="w-[300px]">'),Pe=a('<div class="flex justify-between items-center"><div>SAVE TO'),De=()=>{const[r,{update:a}]=S(),[n,i]=v(r()?.dataSearch?.data||r()?.dataSearch||[]),o=A(),l=E(),c=o.pathname.split("/").pop(),[d,p]=v(!1),[u,g]=v(null),[h,f]=v(null),[m,x]=v(!1),[b,C]=v({name:null,value:""}),[y,w]=v(null),[N,Y]=v({isError:!0,isErrorMsg:!1}),G=e=>n().reduce(((t,r)=>t+r.data.filter((t=>t.active===e)).length),0);s((()=>{n().length>0&&(localStorage.setItem("dataSearch",JSON.stringify(n())),a((e=>({...e,dataSearch:n()}))))})),s((()=>{console.log(n());var e=c;!/^[\s()+-]*([0-9][\s()+-]*){6,20}$/.test(e)&&e.length<0&&l("/"),G(!0)>0?(Y((e=>({...e,isError:!1}))),Y((e=>({...e,isErrorMsg:!1})))):Y((e=>({...e,isError:!0}))),n().forEach((e=>{let t=e.data.reduce(((e,t)=>{let r=t.data.reduce(((e,t)=>(e.true+=t.active?1:0,e.false+=t.active?0:1,e.total+=t.id&&1,e)),{true:0,false:0,total:0});return e.true+=r.true,e.false+=r.false,e.total+=r.total,e}),{true:0,false:0,total:0});t.true>=0&&t.total!==t.true?g(!1):g(!0)}))}));const W=()=>{let e=G(!0);let t=n().map((e=>({...e,data:e.data.filter((e=>!1!==e.active)).map((e=>({...e,data:e.data.filter((e=>!1!==e.active))})))}))).filter((e=>e.data.length>0));a((e=>({...e,hasilSearch:t}))),b().name?a((e=>({...e,open:!0}))):0===e?(a((e=>({...e,open:!0}))),Y((e=>({...e,isErrorMsg:!0})))):(Y((e=>({...e,isErrorMsg:!1}))),l(`${o.pathname}/create-new-profile`,{state:{keyword:c}}))};s((()=>{m()&&M().get("/deck-explorer/marked_profile").then((e=>{w(e.data.items)}))}));const q=()=>{let e=n().map((e=>({...e,data:e.data.filter((e=>!1!==e.active)).map((e=>({...e,data:e.data.filter((e=>!1!==e.active))})))}))).filter((e=>e.data.length>0));a((t=>({...t,hasilSearch:e})));let t={data:e,keyword:c,terkait:b().value,type:localStorage.getItem("typeSearch").toUpperCase(),path:`/deck-explorer/marked-profile/${b().value}/identification`,typeTerkait:h()};M().post("/deck-explorer/marked-profile",t).then((t=>{a((t=>({...t,hasilSearch:e,open:!1}))),R.fire({icon:"success",title:"INFO",text:"Data Has Been Added",didClose:()=>{l(`/deck-explorer/marked-profile/${b().value}/identification`)}})})).catch((e=>{R.fire({icon:"error",title:"OOPS",text:e.response.data.message})}))};return e(B,{get children(){return[(()=>{const r=ve();return $(r,e(z,{get headerComponent(){return(()=>{const r=be(),a=r.firstChild,n=a.firstChild,o=n.nextSibling;return $(r,e(_,{label:"ADD ALL",onChange:e=>{let t=e.target.checked;g(!t),i((e=>e.map((e=>({...e,checkAll:!t,data:e.data.map((e=>({...e,active:!t,data:e.data.map((e=>({...e,active:!t})))})))})))))},get checked(){return u()},get sx(){return{color:"dark"===t()?"#eee":"#444"}},get control(){return e(K,{sx:{borderRadius:0}})}}),a),$(a,(()=>{const r=k((()=>!b().name));return()=>r()&&[e(te,{children:"SAVE LOCATION:"}),e(_,{get disabled(){return N().isError},label:"NEW PROFILE",value:"New Profile",get sx(){return{color:"dark"===t()?"#eee":"#444","&.Mui-disabled,.MuiFormControlLabel-label.Mui-disabled":{color:"#444"}}},onChange:e=>p(e.target.checked),get control(){return e(K,{sx:{borderRadius:0}})}})]})(),n),$(n,e(P,{id:"basic-button",get startIcon(){return e(oe,{})},get sx(){return{color:"dark"===t()?"#eee":"#444","&.Mui-disabled,.MuiFormControlLabel-label.Mui-disabled":{color:"#444"}}},onClick:e=>{x(!0)},get children(){return k((()=>!!b().name))()?b().name:"EXISTING MARKED PROFILE"}}),null),$(n,e(he,{anchor:"right",get open(){return m()},sx:{zIndex:9999},get children(){const t=xe(),r=t.firstChild;r.firstChild;const a=r.nextSibling,n=a.nextSibling.firstChild;return $(r,(()=>{const t=k((()=>!!b().name));return()=>t()?e(D,{color:"success",onClick:()=>x(!1),get children(){return e(ne,{})}}):e(D,{color:"error",onClick:()=>x(!1),get children(){return e(U,{})}})})(),null),$(a,(()=>{const t=k((()=>!!b().name));return()=>t()&&(()=>{const t=Ce();return $(t,e(P,{size:"small",color:"error",onClick:()=>{C({name:"",value:""})},children:"CANCEL"})),t})()})()),$(n,e(L,{class:"w-full",get children(){return e(O,{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",get value(){return b()?.value||""},onClick:e=>{console.log(e),C((t=>({...t,name:e.target.attributes.name.value,value:e.target.value})))},class:"w-full space-y-2 flex flex-col",get children(){return k((()=>0===y()?.length))()?"NO DATA":y()?.map((t=>(()=>{const r=ke();return r.$$click=()=>{C((e=>({...e,type:t.type})))},$(r,e(_,{get value(){return t.keyword},get name(){return t.profile_name},class:"w-full flex-1 !m-0",sx:{".MuiFormControlLabel-label":{flex:1}},control:()=>e(F,{class:"tester"}),get label(){return(()=>{const r=ye(),a=r.firstChild,n=a.firstChild,i=n.firstChild,o=n.nextSibling.firstChild,l=a.nextSibling.firstChild;l.firstChild;const s=l.nextSibling;return s.firstChild,$(o,e(j,{color:"secondary",sx:{borderRadius:0},get label(){return t.profile_name}})),$(l,e(j,{color:"secondary",sx:{borderRadius:0},get label(){return t.remarks}}),null),$(s,e(j,{color:"secondary",sx:{borderRadius:0},get label(){return t.type}}),null),I((()=>T(i,"src",t?.foto_url?.label))),r})()}})),r})()))}})}})),t}}),null),$(o,(()=>{const t=k((()=>!!b().name));return()=>t()?e(P,{get disabled(){return N().isError},variant:"contained",onClick:W,color:"secondary",sx:{"&.Mui-disabled":{background:"#000",color:"#c0c0c0"}},children:"Add Database"}):e(P,{get disabled(){return!d()},variant:"contained",onClick:W,color:"secondary",sx:{"&.Mui-disabled":{background:"#000",color:"#c0c0c0"}},children:"SAVE"})})(),null),$(o,e(P,{variant:"outlined",color:"error",onClick:()=>l(-1),children:"CANCEL"}),null),r})()},className:"!flex-1 flex !flex-col !p-4 min-h-[600px]",title:"DATABASE INFORMATION",get children(){const r=me(),a=r.firstChild;return $(a,e(V,{label:"MULTI SOURCE DATABASE INFORMATION"}),null),$(a,e(H,{count:n,title:"INFORMATION category",className:"flex flex-col flex-1 relative",get children(){const r=fe();return $(r,(()=>n()?.map(((r,a)=>(()=>{const o=we(),l=o.firstChild,s=l.firstChild;return $(l,e(V,{get label(){return(()=>{const e=Se(),t=e.firstChild.nextSibling;return $(t,(()=>r.label)),e})()}}),s),$(s,e(K,{title:"Checked All ITEMS",get checked(){return r.checkAll},onChange:e=>{var t,a;console.log(e.target.checked),t=r.id,a=!e.target.checked,i((e=>e.map((e=>{if(console.log(e.id,t),e.id===t){const t=e.data.map((e=>({...e,active:a,data:e.data.map((e=>({...e,active:a})))})));return{...e,checkAll:a,data:t}}return e}))))}})),$(o,(()=>r.data.map((a=>(()=>{const n=Ae(),o=n.firstChild,l=o.firstChild,s=l.firstChild.nextSibling;s.nextSibling;const c=l.nextSibling,d=c.firstChild,p=c.nextSibling,u=o.nextSibling.firstChild,g=u.nextSibling;return $(l,(()=>1===a.total_data?"":`[${a.total_data}]`),s),$(l,(()=>a.label),null),$(d,(()=>a.data.map((n=>(()=>{const o=Ce();return $(o,e(_,{get class(){return`pl-4 !m-0 ${"dark"===t()?" "+(N().isErrorMsg?"border-red-500 text-red-500":"border-[#454545] bg-[#2C2C2C]"):N().isErrorMsg?"border-red-500 text-red-500":"bg-gray-200 text-[#444] border-[#aaa]"} pr-2 py-1 flex gap-4 border-[0] max-w-sm`},get checked(){return n.active},onChange:e=>{return t=r.id,a=n.id,o=e.target.checked,void i((e=>e.map((e=>{if(e.id===t){let t=!0;const r=e.data.map((e=>{const r=e.data.map((e=>e.id===a?{...e,active:!o}:e)),n=r.every((e=>e.active));return n||(t=!1),{...e,active:n,data:r}}));return{...e,checkAll:t,data:r}}return e}))));var t,a,o},get label(){return(()=>{const e=Ee(),t=e.firstChild;return $(t,(()=>{const e=k((()=>"FOTO"!==a.label));return()=>e()?n.label:(()=>{const e=Me(),t=e.firstChild;return I((()=>T(t,"src",n.label))),e})()})()),e})()},labelPlacement:"end",get control(){return e(K,{})}})),I((()=>T(o,"title",n.label))),o})())))),$(p,(()=>{const t=k((()=>1!==a.data.length));return()=>t()&&e(K,{title:"Checked All",get checked(){return a.active},onChange:()=>{i((e=>e.map((e=>(console.log(e),{...e,data:e.data.map((e=>{if(a.id===e.id){const t=!a.active;return{...e,active:t,data:e.data.map((e=>({...e,active:t})))}}return e}))})))))}})})()),I((e=>{const r=`flex gap-4 relative border-b  ${"dark"===t()?"border-[#333]":"border-[#aaa]"}  py-2 `,a=("dark"===t()?"text-[#aaa]":"text-[#444]")+" sticky top-[10px] whitespace-nowrap w-[200px] z-10 px-4 pt-2",i=`h-2 w-2 ${"dark"===t()?"bg-[#222222]":"bg-[#aaa]"} left-0`,o=`h-2 w-2 ${"dark"===t()?"bg-[#222222]":"bg-[#aaa]"} right-0`;return r!==e._v$&&(n.className=e._v$=r),a!==e._v$2&&(l.className=e._v$2=a),i!==e._v$3&&(u.className=e._v$3=i),o!==e._v$4&&(g.className=e._v$4=o),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()))),null),I((()=>o.className="bg-[#1e1e1e] p-2 "+(0===a?" col-span-full":2===n().length?"col-span-full":""))),o})())))),r}}),null),r}})),r})(),e(X,{handleClick:q,get description(){return(()=>{const t=$e(),r=t.firstChild;return $(r,e(L,{get children(){return e(O,{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",get value(){return h()||""},onClick:e=>{e.target.value&&f(e.target.value)},get children(){return[e(_,{value:"family",control:()=>e(F,{}),label:"Family Member (NKK)"}),e(_,{value:"family_member",control:()=>e(F,{}),label:"Family Member Detail (NIK)"}),e(_,{value:"alias_profile",control:()=>e(F,{}),label:"Alias Profile (NIK)"}),e(_,{value:"no_pol",control:()=>e(F,{}),label:"Vehicle"}),e(_,{value:"phone_number_list",control:()=>e(F,{}),label:"Phone Number List"})]}})}})),t})()},get title(){return(()=>{const t=Pe();return t.firstChild,$(t,(()=>{const t=k((()=>!!h()));return()=>t()&&e(P,{color:"error",onClick:()=>{f()},children:"CLEAR"})})(),null),t})()}})]}})};N(["click"]);export{De as default};
