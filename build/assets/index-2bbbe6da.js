import{f as e,t,w as r,x as a,y as l,d as i,z as o,D as n,V as s,O as c,W as d,k as u,X as p,a as v,b as m,v as h,u as f,l as g,n as b,i as x,m as C,B as k,h as y,I as S,j as I,s as M,q as w}from"./index-60ffdcbe.js";import{C as A}from"./Chip-fe5cdcaa.js";import{F as $}from"./FormControl-d7e9850b.js";import{F as E}from"./FormControlLabel-ed2de69f.js";import"./FormLabel-f195491a.js";import{S as _,R as N,a as D}from"./RadioGroup-36b778d8.js";import{C as O}from"./index-d49f25e3.js";import{C as R,T as j}from"./index-08d30a70.js";import{C as z}from"./index-8c8ceb60.js";import{A as L,D as P}from"./index-294b887e.js";import{C as T}from"./Close-55696d9a.js";import{D as H}from"./Drawer-89782005.js";import"./formControlState-865d6002.js";import"./Typography-63ca3400.js";import"./isHostComponent-28f2e306.js";import"./index-d93c6e67.js";import"./Modal-eabf89e8.js";import"./Transition-4c2a1824.js";const F=t('<svg><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></svg>',!1,!0),V=e((()=>F()),"CheckBox"),B=t('<svg><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></svg>',!1,!0),K=e((()=>B()),"CheckBoxOutlineBlank"),U=t('<svg><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></svg>',!1,!0),G=e((()=>U()),"IndeterminateCheckBox");const X=r("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),Y=l()({name:"MuiCheckbox",propDefaults:({set:e})=>e({color:"primary",indeterminate:!1,size:"medium",checkedIcon:()=>i(V,{}),icon:()=>i(K,{}),indeterminateIcon:()=>i(G,{})}),selfPropNames:["checked","checkedIcon","classes","color","disableRipple","disabled","icon","id","indeterminate","indeterminateIcon","inputProps","inputRef","onChange","required","size","value"],utilityClass:function(e){return a("MuiCheckbox",e)},slotClasses:e=>({root:["root",e.indeterminate&&"indeterminate",`color${o(e.color)}`]})}),q=n(_,{skipProps:s.filter((e=>"classes"!==e)),name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,"default"!==r.color&&t[`color${o(r.color)}`]]}})((({theme:e,ownerState:t})=>({color:e.palette.text.secondary,...!t.disableRipple&&{"&:hover":{backgroundColor:c("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},..."default"!==t.color&&{[`&.${X.checked}, &.${X.indeterminate}`]:{color:e.palette[t.color].main},[`&.${X.disabled}`]:{color:e.palette.action.disabled}}}))),J=Y.component((function({allProps:e,classes:t,props:r}){const[,a]=d(e,["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),l=u((()=>r.classes||{}),t);return i(p.Provider,{value:{get fontSize(){return r.size}},get children(){return i(q,u({type:"checkbox"},a,{classes:l,get inputProps(){return{"data-indeterminate":r.indeterminate,...r.inputProps||{}}},get icon(){return r.indeterminate?r.indeterminateIcon:r.icon},get checkedIcon(){return r.indeterminate?r.indeterminateIcon:r.checkedIcon},ownerState:e}))}})})),W=t('<svg><path d="M0 0h24v24H0z" fill="none"></svg>',!1,!0),Q=t('<svg><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></svg>',!1,!0),Z=e((()=>[W(),Q()]),"CheckBox"),ee=t('<svg><path d="M0 0h24v24H0z" fill="none"></svg>',!1,!0),te=t('<svg><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></svg>',!1,!0),re=e((()=>[ee(),te()]),"CheckBoxOutlineBlank"),ae=e=>{const t=e.sx||{borderRadius:0,padding:0};return i(J,u(e,{get icon(){return i(re,{color:"primary"})},get checkedIcon(){return i(Z,{})},sx:t}))},le=t('<svg><path d="M0 0h24v24H0z" fill="none"></svg>',!1,!0),ie=t('<svg><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></svg>',!1,!0),oe=e((()=>[le(),ie()]),"Check"),ne=t('<svg><g><g><g><path d="M21,3H3C1.9,3,1,3.9,1,5v8h2V5h18v16c1.1,0,2-0.9,2-2V5C23,3.9,22.1,3,21,3z"></path></g><g><circle cx="9" cy="10" r="4"></circle></g><g><path d="M15.39,16.56C13.71,15.7,11.53,15,9,15c-2.53,0-4.71,0.7-6.39,1.56C1.61,17.07,1,18.1,1,19.22V22h16v-2.78 C17,18.1,16.39,17.07,15.39,16.56z"></svg>',!1,!0),se=e((()=>ne()),"CoPresent"),ce=t('<div class="absolute top-0 h-full w-full left-0 px-4 overflow-auto grid grid-cols-2 py-4 gap-2">'),de=t('<div class="grid flex-1 m-[-18px]"><div class="xl:col-span-6 flex-1 px-4 py-2 flex flex-col">'),ue=t('<div class="py-6 flex flex-col flex-1">'),pe=t('<div class="w-96 h-full bg-primarry-1 text-white p-4 flex flex-col gap-4"><div class="flex justify-between items-center border-b border-primarry-2"><h4>EXISTING MARKED PROFILE</h4></div><div class="flex items-center gap-2 justify-end"></div><div class="flex-1 flex flex-col px-4 relative"><div class="absolute w-full h-full overflow-auto left-0">'),ve=t('<div class="flex gap-4"><div class="flex gap-4 items-center"><div></div><div class="space-x-4">'),me=t("<div>"),he=t('<div class="border border-primarry-2 flex justify-between flex-1">'),fe=t('<div class="w-full px-2 py-2 flex gap-2 flex-col "><div class="flex gap-2 items-center justify-between border-b border-primarry-2 py-2"><div class="w-12"><img class="w-full"></div><div><div></div></div></div><div class="flex justify-between text-xs"><div>REMARKS :</div><div>TYPE :'),ge=t('<div><div class="border border-primarry-2 px-4 bg-primarry-1 sticky top-[5px] z-50 flex justify-between items-center"><div>'),be=t("<span>DATA FROM <b>"),xe=t('<div><div class="flex gap-4 items-start flex-1 relative"><div> <!> </div><div class="flex-1 "><div class="gap-2 flex flex-wrap px-4"></div></div><div class="sticky top-[10px] pr-4"></div></div><div class="w-full flex justify-between items-center absolute bottom-[-5px] left-0"><div></div><div>'),Ce=t("<div><div>"),ke=t('<div><img class="w-20">'),ye=t('<div><div class="w-[300px]">'),Se=t('<div class="flex justify-between items-center"><div>SAVE TO'),Ie=()=>{const[e,{update:t}]=v(),[r,a]=m(e()?.dataSearch?.data||e()?.dataSearch||[]),l=h(),o=f(),n=l.pathname.split("/").pop(),[s,c]=m(null),[d,u]=m(null),[p,w]=m(!1),[_,F]=m({name:null,value:""});let V=localStorage.getItem("typeSearch"),B="MSISDN"===V?"phone-list":"FAMILY ID"===V?"family-member":"VEHICLE"===V?"vehicle":"identification";const[K,U]=m(null),[G,X]=m({isError:!0,isErrorMsg:!1}),Y=e=>r().reduce(((t,r)=>t+r.data.filter((t=>t.active===e)).length),0);g((()=>{r().length>0&&(localStorage.setItem("dataSearch",JSON.stringify(r())),t((e=>({...e,dataSearch:r()}))))})),g((()=>{var e=n;!/^[\s()+-]*([0-9][\s()+-]*){6,20}$/.test(e)&&e.length<0&&o("/"),Y(!0)>0?(X((e=>({...e,isError:!1}))),X((e=>({...e,isErrorMsg:!1})))):X((e=>({...e,isError:!0}))),r().forEach((e=>{let t=e.data.reduce(((e,t)=>{let r=t.data.reduce(((e,t)=>(e.true+=t.active?1:0,e.false+=t.active?0:1,e.total+=t.id&&1,e)),{true:0,false:0,total:0});return e.true+=r.true,e.false+=r.false,e.total+=r.total,e}),{true:0,false:0,total:0});t.true>=0&&t.total!==t.true?c(!1):c(!0)}))}));const q=()=>{let e=Y(!0);let a=r().map((e=>({...e,data:e.data.filter((e=>!1!==e.active)).map((e=>({...e,data:e.data.filter((e=>!1!==e.active))})))}))).filter((e=>e.data.length>0));t((e=>({...e,hasilSearch:a}))),_().name?t((e=>({...e,open:!0}))):0===e?(t((e=>({...e,open:!0}))),X((e=>({...e,isErrorMsg:!0})))):(X((e=>({...e,isErrorMsg:!1}))),o(`${l.pathname}/create-new-profile`,{state:{keyword:n}}))};g((()=>{p()&&b().get("/deck-explorer/marked_profile").then((e=>{U(e.data.items)}))}));const J=()=>{let e=r().map((e=>({...e,data:e.data.filter((e=>!1!==e.active)).map((e=>({...e,data:e.data.filter((e=>!1!==e.active))})))}))).filter((e=>e.data.length>0));t((t=>({...t,hasilSearch:e})));let a={data:e,keyword:n,terkait:_().value,type:localStorage.getItem("typeSearch").toUpperCase(),typeTerkait:d()};b().post("/deck-explorer/marked-profile",a).then((r=>{t((t=>({...t,hasilSearch:e,open:!1}))),P({icon:"success",title:"INFO",text:"Data Has Been Added",confirmButtonText:"OK",didClose:()=>{o(`/deck-explorer/marked-profile/${r.data.items.terkait}/${B}`)}})})).catch((e=>{P({icon:"error",title:"OOPS",text:e.response.data.message})}))};return i(O,{get children(){return[(()=>{const e=ue();return x(e,i(R,{get headerComponent(){return(()=>{const e=ve(),t=e.firstChild,r=t.firstChild,l=r.nextSibling;return x(e,i(E,{label:"ADD ALL",onChange:e=>{let t=e.target.checked;c(!t),a((e=>e.map((e=>({...e,checkAll:!t,data:e.data.map((e=>({...e,active:!t,data:e.data.map((e=>({...e,active:!t})))})))})))))},get checked(){return s()},get sx(){return{color:"dark"===C()?"#eee":"#444"}},get control(){return i(ae,{sx:{borderRadius:0}})}}),t),x(r,i(k,{id:"basic-button",get startIcon(){return i(se,{})},get sx(){return{color:"dark"===C()?"#eee":"#444","&.Mui-disabled,.MuiFormControlLabel-label.Mui-disabled":{color:"#444"}}},onClick:e=>{w(!0)},get children(){return y((()=>!!_().name))()?_().name:"EXISTING MARKED PROFILE"}}),null),x(r,i(H,{anchor:"right",get open(){return p()},sx:{zIndex:9999},get children(){const e=pe(),t=e.firstChild;t.firstChild;const r=t.nextSibling,l=r.nextSibling.firstChild;return x(t,(()=>{const e=y((()=>!!_().name));return()=>e()?i(S,{color:"success",onClick:()=>w(!1),get children(){return i(oe,{})}}):i(S,{color:"error",onClick:()=>w(!1),get children(){return i(T,{})}})})(),null),x(r,(()=>{const e=y((()=>!!_().name));return()=>e()&&(()=>{const e=me();return x(e,i(k,{size:"small",color:"error",onClick:()=>{F({name:"",value:""})},children:"CANCEL"})),e})()})()),x(l,i($,{class:"w-full",get children(){return i(N,{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",get value(){return _()?.value||""},onClick:e=>{let t=e?.target?.value;t&&(F((r=>({...r,name:e?.target?.attributes?.name?.value||"-",value:t}))),b().get(`/deck-explorer/marked_profile?keyword=${t}`).then((e=>{let t=e.data.items.data;a((e=>e.map((e=>{const r=t.find((t=>t.id===e.id));return r&&(e.checkAll=r.checkAll,e.marked=r.marked,e.relate=r.relate,e.data=e.data.map((e=>{const t=r.data.find((t=>t.id===e.id));return t&&(e.active=t.active,e.type=t.type,e.data=e.data.map((e=>{const r=t.data.find((t=>t.id===e.id));return r&&(e.active=r.active),e}))),e}))),e}))))})))},class:"w-full space-y-2 flex flex-col",get children(){return y((()=>0===K()?.length))()?"NO DATA":K()?.map((e=>(()=>{const t=he();return t.$$click=()=>{F((t=>({...t,type:e.type})))},x(t,i(E,{get value(){return e.keyword},get name(){return e?.profile_name||"-"},class:"w-full flex-1 !m-0",sx:{".MuiFormControlLabel-label":{flex:1}},control:()=>i(D,{class:"tester"}),get label(){return(()=>{const t=fe(),r=t.firstChild,a=r.firstChild,l=a.firstChild,o=a.nextSibling.firstChild,n=r.nextSibling.firstChild;n.firstChild;const s=n.nextSibling;return s.firstChild,x(o,i(A,{color:"secondary",sx:{borderRadius:0},get label(){return e.profile_name}})),x(n,i(A,{color:"secondary",sx:{borderRadius:0},get label(){return e.remarks}}),null),x(s,i(A,{color:"secondary",sx:{borderRadius:0},get label(){return e.type}}),null),I((()=>M(l,"src",e?.foto_url?.label))),t})()}})),t})()))}})}})),e}}),null),x(l,(()=>{const e=y((()=>!!_().name));return()=>e()?i(k,{get disabled(){return G().isError},variant:"contained",onClick:q,color:"success",sx:{"&.Mui-disabled":{background:"#000",color:"#c0c0c0"}},children:"Add Database"}):i(k,{get disabled(){return G().isError},variant:"contained",onClick:q,color:"secondary",sx:{"&.Mui-disabled":{background:"#000",color:"#c0c0c0"}},children:"SAVE to New Profile"})})(),null),x(l,i(k,{variant:"outlined",color:"error",onClick:()=>o(-1),children:"CANCEL"}),null),e})()},className:"!flex-1 flex !flex-col !p-4 min-h-[600px]",title:"DATABASE INFORMATION",get children(){const e=de(),t=e.firstChild;return x(t,i(j,{label:"MULTI SOURCE DATABASE INFORMATION"}),null),x(t,i(z,{count:r,title:"INFORMATION category",className:"flex flex-col flex-1 relative",get children(){const e=ce();return x(e,(()=>r()?.map(((e,t)=>(()=>{const l=ge(),o=l.firstChild,n=o.firstChild;return x(o,i(j,{get label(){return(()=>{const t=be(),r=t.firstChild.nextSibling;return x(r,(()=>e.label)),t})()}}),n),x(n,i(ae,{title:"Checked All ITEMS",get checked(){return e.checkAll},onChange:t=>{var r,l;r=e.id,l=!t.target.checked,a((e=>e.map((e=>{if(e.id===r){const t=e.data.map((e=>({...e,active:l,data:e.data.map((e=>({...e,active:l})))})));return{...e,checkAll:l,data:t}}return e}))))}})),x(l,(()=>e.data.map((t=>(()=>{const r=xe(),l=r.firstChild,o=l.firstChild,n=o.firstChild.nextSibling;n.nextSibling;const s=o.nextSibling,c=s.firstChild,d=s.nextSibling,u=l.nextSibling.firstChild,p=u.nextSibling;return x(o,(()=>1===t.total_data?"":`[${t.total_data}]`),n),x(o,(()=>t.label),null),x(c,(()=>t.data.map((r=>(()=>{const l=me();return x(l,i(E,{get class(){return`pl-4 !m-0 ${"dark"===C()?" "+(G().isErrorMsg?"border-red-500 text-red-500":"border-[#454545] bg-[#2C2C2C]"):G().isErrorMsg?"border-red-500 text-red-500":"bg-gray-200 text-[#444] border-[#aaa]"} pr-2 py-1 flex gap-4 border-[0] max-w-sm`},get checked(){return r.active},onChange:t=>{return l=e.id,i=r.id,o=t.target.checked,void a((e=>e.map((e=>{if(e.id===l){let t=!0;const r=e.data.map((e=>{const r=e.data.map((e=>e.id===i?{...e,active:!o}:e)),a=r.every((e=>e.active));return a||(t=!1),{...e,active:a,data:r}}));return{...e,checkAll:t,data:r}}return e}))));var l,i,o},get label(){return(()=>{const e=Ce(),a=e.firstChild;return x(a,(()=>{const e=y((()=>"ID CARD PHOTO"!==t.label));return()=>e()?r.label:(()=>{const e=ke(),t=e.firstChild;return I((()=>M(t,"src",r.label))),e})()})()),I((r=>{const l="whitespace-nowrap max-w-xs relative "+("ID CARD PHOTO"===t.label?"hover:z-50  hover:scale-[2.5] transition-all":""),i="ID CARD PHOTO"!==t.label?"text-ellipsis overflow-hidden relative":"z-50";return l!==r._v$5&&(e.className=r._v$5=l),i!==r._v$6&&(a.className=r._v$6=i),r}),{_v$5:void 0,_v$6:void 0}),e})()},labelPlacement:"end",get control(){return i(ae,{})}})),I((()=>M(l,"title",r.label))),l})())))),x(d,(()=>{const e=y((()=>1!==t.data.length));return()=>e()&&i(ae,{title:"Checked All",get checked(){return t.active},onChange:()=>{a((e=>e.map((e=>({...e,data:e.data.map((e=>{if(t.id===e.id){const r=!t.active;return{...e,active:r,data:e.data.map((e=>({...e,active:r})))}}return e}))})))))}})})()),I((e=>{const t=`flex gap-4 relative border-b  ${"dark"===C()?"border-[#333]":"border-[#aaa]"}  py-2 `,a=("dark"===C()?"text-[#aaa]":"text-[#444]")+" sticky top-[10px] whitespace-nowrap w-[200px] z-10 px-4 pt-2",l=`h-2 w-2 ${"dark"===C()?"bg-[#222222]":"bg-[#aaa]"} left-0`,i=`h-2 w-2 ${"dark"===C()?"bg-[#222222]":"bg-[#aaa]"} right-0`;return t!==e._v$&&(r.className=e._v$=t),a!==e._v$2&&(o.className=e._v$2=a),l!==e._v$3&&(u.className=e._v$3=l),i!==e._v$4&&(p.className=e._v$4=i),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()))),null),I((()=>l.className="bg-[#1e1e1e] p-2 "+(0===t?" col-span-full":2===r().length?"col-span-full":""))),l})())))),e}}),null),e}})),e})(),i(L,{handleClick:J,get description(){return(()=>{const e=ye(),t=e.firstChild;return x(t,i($,{get children(){return i(N,{"aria-labelledby":"demo-radio-buttons-group-label",name:"radio-buttons-group",get value(){return d()||""},onClick:e=>{e.target.value&&u(e.target.value)},get children(){return[y((()=>"PERSONAL ID"===V&&[i(E,{value:"family_member",control:()=>i(D,{}),label:"Family Member Detail (NIK)"}),i(E,{value:"alias_profile",control:()=>i(D,{}),label:"Alias Profile (NIK)"}),i(E,{value:"replace_personal",control:()=>i(D,{}),label:"Update Marked Data"})])),y((()=>"FAMILY ID"===V&&i(E,{value:"family",control:()=>i(D,{}),checked:!0,label:"Family Member (NKK)"}))),y((()=>"VEHICLE"===V&&i(E,{value:"no_pol",control:()=>i(D,{}),checked:!0,label:"Vehicle"}))),y((()=>"MSISDN"===V&&i(E,{value:"phone_number_list",control:()=>i(D,{}),checked:!0,label:"MSISDN List"})))]}})}})),e})()},get title(){return(()=>{const e=Se();return e.firstChild,x(e,(()=>{const e=y((()=>!!d()));return()=>e()&&i(k,{color:"error",onClick:()=>{u()},children:"CLEAR"})})(),null),e})()}})]}})};w(["click"]);export{Ie as default};
