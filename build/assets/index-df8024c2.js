import{b as e,H as r,l,n as t,d as o,i as a,B as s,h as i,S as n,t as c}from"./index-4512b8e0.js";import{D as d}from"./Divider-7b4e4b5c.js";import{c as u,a as g,I as p}from"./index.module-e1caf1a8.js";import{T as m}from"./Typography-091decc6.js";import{L as v}from"./index-bb8f6683.js";import{C as f}from"./index-46b4baa4.js";import{T as h}from"./index-87d19503.js";import{A as x}from"./Add-e88dc59d.js";import{C as y}from"./Close-ccdf9ede.js";import{D as I}from"./Delete-00dec763.js";import{E as C}from"./Edit-6d355b20.js";import{S as N}from"./Save-ec692ab6.js";import"./formControlState-a50ae71c.js";import"./useControlled-3b7394ed.js";import"./isHostComponent-aa695ee2.js";import"./CircularProgress-cd9f5926.js";import"./index-faf17f8c.js";import"./moment-0b360bb8.js";import"./avatar-0ae0561b.js";import"./index-cefb7a6f.js";const b=c('<form class=" flex flex-col"><div class="grid grid-cols-7 gap-2"><div class="bg-primarry-2 p-2"></div><div class="col-span-5 bg-primarry-2 p-2 flex gap-2">'),j=c('<div class="relative w-full flex-1"><div class="absolute overflow-auto w-full h-full">'),T=c('<div class="flex flex-col flex-1">'),A=c('<div class="grid grid-cols-7 gap-2 w-full"><div class="px-2">CATEGORY INFORMATION</div><div class="col-span-6 px-2">IDENTIFIED'),O=c('<form class="grid grid-cols-7 gap-2 w-full col-span-full">'),D=c('<div class="bg-primarry-2 bg-opacity-50 p-2">'),E=c('<div class="col-span-5 bg-primarry-2 bg-opacity-50 p-2 flex gap-2">'),V=c('<div class="grid grid-cols-2 gap-2">'),q=c('<div class="bg-primarry-2 p-2">'),w=c('<div class="col-span-5 bg-primarry-2 p-2 flex gap-2">'),R=()=>{const[c,R]=e([]),_=u({category:g("",{required:!0}),value:g("",{required:!0})}),k=u({category:g("",{required:!0}),value:g("",{required:!0})});let F=r().pathname.split("/"),L=F[F.length-2];const[W,M]=e(!1),P=e=>{e.preventDefault();let{category:r,value:l}=_.value,o={category:r,value:l,edit:!1,keyword:L};t().post("deck-explorer/additional_info",o).then((e=>{M(!0),n.fire({icon:"success",title:"INFO",text:e.data.message,didClose:()=>{_.controls.category.setValue(""),_.controls.value.setValue(""),M(!1)}})}))};return l((()=>{t().get("/deck-explorer/addtional_info").then((e=>{R(e.data.items)})),W()})),o(v,{title:"ADDITIONAL INFORMATION",get children(){const e=T();return a(e,o(h,{label:"ADDITIONAL INFORMATION"}),null),a(e,o(f,{className:"relative flex-1 flex flex-col",get title(){return A()},get children(){return[(()=>{const e=b(),r=e.firstChild,l=r.firstChild,t=l.nextSibling;return e.addEventListener("submit",P),a(r,o(d,{class:"col-span-full",sx:{borderColor:"#444"}}),l),a(l,o(p,{get value(){return _.controls.category.value},onChange:e=>_.controls.category.setValue(e.target.value),get required(){return _.controls.category.isRequired},placeholder:"INPUT CATEGORY",sx:{color:"white"}})),a(t,o(p,{get value(){return _.controls.value.value},onChange:e=>_.controls.value.setValue(e.target.value),get required(){return _.controls.value.isRequired},placeholder:"INPUT INFORMATION",fullWidth:!0,sx:{color:"white"}})),a(r,o(s,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return o(x,{})},children:"ADD"}),null),a(r,o(d,{class:"col-span-full",sx:{borderColor:"#444"}}),null),e})(),(()=>{const e=j(),r=e.firstChild;return a(r,(()=>c().map((e=>(()=>{const r=O();return r.addEventListener("submit",(r=>((e,r)=>{e.preventDefault();let{category:l,value:o}=k.value,a={category:l,value:o,keyword:L,id:r};t().put("deck-explorer/additional_info",a).then((e=>{M(!0),n.fire({icon:"success",title:"INFO",text:e.data.message,didClose:()=>{_.controls.category.setValue(""),_.controls.value.setValue(""),M(!1)}})}))})(r,e._id))),a(r,o(d,{class:"col-span-full",sx:{borderColor:"#444"}}),null),a(r,(()=>{const r=i((()=>!!e.edit));return()=>r()?[(()=>{const e=D();return a(e,o(p,{get value(){return k.controls.category.value},onChange:e=>k.controls.category.setValue(e.target.value),get required(){return k.controls.category.isRequired},placeholder:"INPUT CATEGORY",sx:{color:"white"}})),e})(),(()=>{const e=E();return a(e,o(p,{get value(){return k.controls.value.value},onChange:e=>k.controls.value.setValue(e.target.value),get required(){return k.controls.value.isRequired},placeholder:"INPUT INFORMATION",fullWidth:!0,sx:{color:"white"}})),e})(),(()=>{const e=V();return a(e,o(s,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return o(N,{})},children:"SAVE"}),null),a(e,o(s,{onClick:()=>{R((e=>e.map((e=>({...e,edit:!1})))))},fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return o(y,{})},children:"CANCEL"}),null),e})()]:[(()=>{const r=q();return a(r,o(m,{get children(){return e.category}})),r})(),(()=>{const r=w();return a(r,o(m,{get children(){return e.value}})),r})(),(()=>{const r=V();return a(r,o(s,{onClick:()=>{R((r=>r.map((r=>(r._id===e._id&&(k.controls.value.setValue(r.value),k.controls.category.setValue(r.category)),{...r,edit:r._id===e._id})))))},fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return o(C,{})},children:"EDIT"}),null),a(r,o(s,{onClick:()=>{t().delete(`/deck-explorer/additional_info?id=${e._id}`).then((e=>{M(!0),n.fire({icon:"success",title:"INFO",text:e.data.message,didClose:()=>{_.controls.category.setValue(""),_.controls.value.setValue(""),M(!1)}})}))},fullWidth:!0,variant:"contained",color:"secondary",size:"small",get startIcon(){return o(I,{})},children:"DELETE"}),null),r})()]})(),null),a(r,o(d,{class:"col-span-full",sx:{borderColor:"#444"}}),null),r})())))),e})()]}}),null),e}})};export{R as default};
